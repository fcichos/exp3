{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Fabry Perot Interferometer"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "We will now have a look at some applications of the multiwave interference also with changing amplitude. One of the is the Fabry-Perot interferometer, which essentially consists of two mirrors, which are brought to a distance $d$ as shown below. "
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "|<img src=\"img/fabry_perot.png\" width=\"50%\">|\n",
    "|-|\n",
    "| **Fig.:** Fabry-Perot Interferometer.|"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "If light enters the Fabry Perot interferometer with an amplitude $A_0$. It is transmitted with a reduced amplitude. The initial amplitude has to be multiplied with the transmission factor $t_1$. It travels further until it hits the sescond mirror, where it is reflected and transmitted as well. The reduced amplitude due to reflection is expressed by $r_2$, while the transmission is introducing another factor $t_2$. \n",
    "This means that the first transmitted wave has the amplitude \n",
    "\n",
    "$$\n",
    "U_1=A_0t_1 t_2\n",
    "$$\n",
    "\n",
    "The second transmitted wave now has a decreased amplitude as compared to the first one and reads\n",
    "\n",
    "$$\n",
    "U_2=A_0t_1 t_2 r_1 r_2 e^{i\\phi}=U_1 r_1 r_2 e^{i\\phi}\n",
    "$$\n",
    "\n",
    "We could now continue like that, but we see already at this point the similarity to the multiwave interference with decreasing amplitude we have talked about in the last lecture. We would observe interference of all transmitted waves  \n",
    "\n",
    "We just have to insert the corresponding expression, i.e. $\\sqrt{I_0}=A_0 t_1 t_2$ and $h=r_1r_2e^{i\\phi}$ or $r=r_1 r_2$. We may even insert the phase shift \n",
    "\n",
    "$$\n",
    "\\phi=\\frac{2\\pi}{\\lambda} \\Delta s = \\frac{2\\pi}{\\lambda} 2d\\cos(\\theta)\n",
    "$$"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Our final formula would thus look like \n",
    "\n",
    "$$\n",
    "I=|U|^2=\\frac{I_{0}}{|1-re^{i\\phi}|^2}=\\frac{I_0}{(1-r)^2+4r\\sin^2\\left (\\frac{2\\pi}{\\lambda} d\\cos(\\theta)\\right)}\n",
    "$$\n",
    "\n",
    "and gives now the intensity as calculated during the last lecture."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "|<img src=\"img/perot.png\" width=\"60%\">|\n",
    "|-|\n",
    "| **Fig.:** Fabry Perot Interferometer.|"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Yet, we know now that $r=r_1 r_2$ is the factor by which the amplitude decreases, which also enters the Finesse\n",
    "\n",
    "$$\n",
    "\\mathcal{F}=\\frac{\\pi \\sqrt{r}}{1-r}\n",
    "$$\n",
    "\n",
    "The better the reflectivity of the mirrors (which means $r\\rightarrow 1$), the higher is the Finess and the sharper are the interference peaks observed in the Fabry-Perot interferometer."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Let us discuss the form of the interference peeks and the distance a bit more in detail. We have plotted so far the intensity as a function of the phase angle $\\phi$. This phase angle is given by\n",
    "\n",
    "$$\n",
    "\\phi=\\frac{4\\pi d}{\\lambda}\\cos(\\theta)\n",
    "$$\n",
    "\n",
    "We would like to have a look at the transmission in the case of normal incidence $\\theta=0$, so that $\\phi=4\\pi d/\\lambda$. To obtain constructive interference in transmission, the phase angle needs to be an integer multiple of $2\\pi$, i.e. $\\phi=m 2\\pi$. This means that for a given thickness $d$ and a specific integer value $m$, the transmission is maximum for \n",
    "\n",
    "$$\n",
    "\\lambda_m=\\frac{2d}{m}\n",
    "$$\n",
    "\n",
    "We may then calculate the distance of the constructive interference maxima for neighboring values of the interference order $m$. A quick calculation gives\n",
    "\n",
    "$$\n",
    "\\delta \\lambda= \\lambda_{m}-\\lambda_{m+1}=\\frac{\\lambda_m}{m+1}\n",
    "$$\n",
    "\n",
    "We may also do the calculation in the frequency space. A wavelength $\\lambda_m$ corresponds via the relation $\\nu=c/\\lambda$ to $\\nu_m=\\frac{c\\, m}{2d}$.\n",
    "The difference between neighboring frequencies is then\n",
    "\n",
    "$$\n",
    "\\delta \\nu=\\nu_{m+1}-\\nu_m=\\frac{c}{2d}\n",
    "$$\n",
    "\n",
    "This quantity $\\delta \\nu$ or $\\delta \\lambda$ is called **free spectral range** as it indicates the \"space\" we have until the next frequency delivers a constructive interference maximum for the next integer $m$. In this range, we would like to resolve two different frequencies. So let us assume we would like to resolve two frequencies $\\nu_a$ and $\\nu_b$ with the same order of the interference $m$, then we have to find a criterium, that tells us, that we can still seperate the two frequencies. We use as a measure the width of the individual peaks.\n",
    "We measure the width as the full width at half maximum (FWHM), this means, we look for the phase angle $\\phi_{1/2}$ at which we have $I/I_{\\rm max}=1/2$, i.e.\n",
    "\n",
    "$$\n",
    "\\frac{I}{I_{\\rm max}}=\\frac{1}{2}=\\frac{1}{1+\\left( \\frac{\\mathcal{F}}{\\pi}\\right )^2\\phi^{2}_{1/2} }\n",
    "$$\n",
    "\n",
    "using the small angle approximation $\\sin(\\phi)\\approx\\phi$.This results in an angle $\\phi_{1/2}= \\frac{\\pi}{\\mathcal{F}}$ for the half width. The full width is thus twice this values, i.e. $2\\frac{\\pi}{\\mathcal{F}}$. This full width corresponds also to a width in frequency space $\\Delta \\nu$, which with our conversion formula $\\phi=4\\pi\\nu d/c$ yields\n",
    "\n",
    "$$\n",
    "\\Delta \\nu=\\frac{c}{2d\\mathcal{F}}=\\frac{\\delta \\nu}{\\mathcal{F}}\n",
    "$$\n",
    "\n",
    "This actually directly gives a definition for the Finesse.\n",
    "\n",
    "$$\n",
    "\\mathcal{F}=\\frac{\\delta \\nu}{\\Delta \\nu}=\\frac{\\lambda}{\\delta \\lambda}\n",
    "$$\n",
    "\n",
    "This means that the Finesse gives us a measure for the spectral resolution of a Fabry-Perot-Interferometer. It tells us by how much the free spectral range $\\delta \\nu $ is bigger than the width $\\Delta \\nu$ of the interference maximum.\n",
    "\n",
    "More generally this is measured by the resolving power $\\mathcal{R}$, which is given for the Fabry-Perot-Interferometer\n",
    "\n",
    "$$\n",
    "R=m\\mathcal{F}\n",
    "$$\n",
    "\n",
    "where $m$ is again the interference order $m$, we defined above.\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "|<img src=\"img/perot_spectral.png\" width=\"60%\">|\n",
    "|-|\n",
    "| **Fig.:** Fabry Perot Interferometer.|"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<figure>\n",
    "  <img src=\"img/fabry_perot_lecture1.png\" width=\"45%\"> <img src=\"img/fabry_perot_lecture2.png\" width=\"45%\"> \n",
    "  <figcaption>**Fig.:** Fabry Perot Interferometer and interferebnce pattern observed in the lecture.\n",
    "  </figcaption>\n",
    "</figure>\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Newton Rings"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<figure>\n",
    "  <img src=\"img/newton_rings_lecture.png\" width=\"80%\">  \n",
    "  <figcaption>**Fig.:** Observation of Newton Rings using white light in the lecture.\n",
    "  </figcaption>\n",
    "</figure>"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Bragg reflection"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "The Bragg reflection is a typical example in which we assume that the amplitude of the waves interfering is constant. Remember the image below, which we already discussed in the previous lecture\n",
    "\n",
    "<figure>\n",
    "  <img src=\"img/Bragg_reflection.png\" width=\"60%\">  \n",
    "  <figcaption>**Fig.:** Bragg reflection.\n",
    "  </figcaption>\n",
    "</figure>\n",
    "\n",
    "\n",
    "We obtained earlier, that constructive interference will occur if the path difference $\\Delta s$ of neighboring waves (e.g. $U_1$ and $U_2$) in just an integer multiple of the wavelength $\\Delta s=m\\lambda$. For the picture above, we may easily calculate the pathlength difference (the distance between the blue lines $\\Delta s_1+\\Delta s_2$), which is given by the angle of incidence $\\theta$ (note that it is measured to the plane and not to the normal here!) and the distance between the horizontal planes $d$. According to that we find that \n",
    "\n",
    "$$\n",
    "\\Delta s=\\Delta s_1+\\Delta s_2 =2 d\\sin(\\theta)\n",
    "$$\n",
    "\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<div class=\"alert alert-info\">\n",
    "\n",
    "**Bragg reflection**\n",
    "    \n",
    "A Bragg reflection occurs on a periodic arrangement of reflecting objects with a spacing $d$ under an incident angle $\\theta$ to the plane if \n",
    "    \n",
    "$$\n",
    "\\Delta s=2 d\\sin(\\theta)=m\\lambda\n",
    "$$\n",
    "\n",
    "which is known as the **Bragg equation**.\n",
    "    \n",
    "</div>"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "This law of Bragg reflection is the foundation for the structural analysis using X-rays, for example. If we assume that the periodic arrangement of objects is a lattice of atoms, the the reflection is microscopically related to the scattering of the X-rays on the atoms in the lattice. The atoms thereby act as sources of spherical waves, which in the far-field (infinite distance) can be treated as plane waves interfering. If we observe therefore a constructive interference from such a lattice structure under an angle $\\theta$, we may deduce the lattice constant $d$ when we know the wavelength $\\lambda$. "
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<figure>\n",
    "  <img src=\"img/Lattice_reflection.png\" width=\"60%\">  \n",
    "  <figcaption>**Fig.:** Bragg reflection on a lattice. \n",
    "  </figcaption>\n",
    "</figure>"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "In a real atomic lattice, atoms are arranged in more complex periodic structures than shown in 2 dimensions above. In X-ray scattering pattern is therefore a chracteristic dot pattern on the surface of a sphere. You will extend this picture later in the course on *Solid State Physics*. More generally you may see X-ray scattering also as diffraction on a 3-dimensional grating.\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<figure>\n",
    "  <img src=\"img/xray.png\" width=\"60%\">  \n",
    "  <figcaption>**Fig.:** One of the first recorded X-ray scattering patterns from a platinum lattice.\n",
    "  </figcaption>\n",
    "</figure>\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "The image below shows the experiment from the lecture, where the periodic structure is given by a stack of acrylic sheets, with constant separation. A microwave is incident to the stack. Each sheet is reflecting a tiny fraction of the wave so that the transmitted wave by a sheet is almost the original one.\n",
    "\n",
    "<figure>\n",
    "  <img src=\"img/multi_wave_lecture.png\" width=\"75%\">  \n",
    "  <figcaption>**Fig.:** Microwave reflection from a stack of acrylic glass sheets.\n",
    "  </figcaption>\n",
    "</figure>\n",
    "\n",
    "As a result we obtained for certain angles constructive interference in reflection, which is a Bragg reflection as well. Note that we used here Microwaves as radiation, as these waves have a wavelength of several centimeters. We may therefore arrange the objects at a distance of centimeters (have a look at the Bragg equation again)."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Bragg Mirrors, Anti-Reflection Coating and Photonic Crystals"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Bragg Mirror"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "We may also prepare structure, which are periodic and act on optical waves, i.e. on waves in the visible regions. There we create stacks of materials with different refractive index.  At each interface waves are reflected. As compared to the X-ray situation, light is also refracted before it propagates further to the next interface. During propagation not only the path length but the optical path length is of importance as the wavelength is changed when the refractive index is changed. "
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<figure>\n",
    "  <img src=\"img/multilayer_optics.png\" width=\"60%\" align=\"center\">  \n",
    "  <figcaption>**Fig.:** Periodic optical multilayer structure of layers with different refractive index.\n",
    "  </figcaption>\n",
    "</figure>"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Using such structures high reflectivities can be achieved in certain wavelength ranges even though the materials used are transparent. The propagation through such a multilayer stack can be formalized into matrix operations, which can simplify the calculation. Note that also phase jumps at the boundaries upon reflection have to be taken into accout. The overall calculations go beyond our scope here. "
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Anti-Reflection Coating"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "While we do not consider the periodic multilayer structures, we may consider another important applications. We wish to calculate the thickness and the optimal refractive index of a single layer that we would like to deposit on glass to reduce the reflection of the glass air interface. Such an antireflection coating is quite common, though, most antireflection coatings involve multiple layers."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<figure>\n",
    "  <img src=\"img/anti_reflection.png\" width=\"40%\" align=\"center\">  \n",
    "  <figcaption>**Fig.:** Setup for our calculation of he anti-reflection coating.\n",
    "  </figcaption>\n",
    "</figure>"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "The sketch above shows the setup we would like to consider to calculate the thickness $d_1$ of the layer as well as its refractive index $n_2$ such that we get zero reflection from the underlying glass $n_3$. At each of the interfaces, we have a reflectance $R_n=|r_n|^2$, where $r_n$ are the reflection coefficients. We would like to use this setup and calculate the anti-reflection layer properties for normal incidence.\n",
    "\n",
    "**Thickness of the coating**\n",
    "\n",
    "To calculate the thickness of the coating, we just have to consider the destructive interference condition. For this we first need to assume $n_1<n_2<n_3$, since that assures that there is the same phase jump of $\\pi$ at the first and the second interface, so we do not need to consider it. The destructive interference is then realized by\n",
    "\n",
    "$$\n",
    "2k d_1=(2m+1)\\pi\n",
    "$$\n",
    "\n",
    "Here $k$ is the wavenumber in the thin film and $m=0,1,\\ldots$ is an integer. Just inserting $k=2\\pi/\\lambda$ yields\n",
    "\n",
    "$$\n",
    "\\frac{4\\pi}{\\lambda} d_1=(2m+1)\\pi\n",
    "$$\n",
    "\n",
    "or finally the thickness of the layer\n",
    "\n",
    "$$\n",
    "d_1=(2m+1)\\frac{\\lambda}{4}\n",
    "$$\n",
    "\n",
    "We are free to chose the order of the destructive interference $m$ so we just choose $m=0$. In this case, we obtain a film thickness of \n",
    "\n",
    "$$\n",
    "d_1=\\frac{\\lambda}{4}\n",
    "$$\n",
    "\n",
    "Note that the wavelength $\\lambda$ corresponds to the wavelength of light in the material with the refractive index $n_2$ and not the original wavelength on vacuum. \n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**Refractive index of the coating**\n",
    "\n",
    "To get real destructive interference, we need the two reflected waves we are considering to cancel completely also in intensity. This means that\n",
    "\n",
    "$$\n",
    "R_1 I_0=(1-R_1)R_2 I_0\n",
    "$$\n",
    "\n",
    "Typically $R_1$ and $R_2$ are small (only a few percent are reflected). Thus we may assume that $R_1 R_2\\approx 0$ and therefroe\n",
    "\n",
    "$$\n",
    "R_1 I_0\\approx R_2 I_0\n",
    "$$\n",
    "\n",
    "or $R_1\\approxR_2$. We next need to relate the refractive indices to the reflection coefficient. We will derive the exact formulas later in the electromagnetic wave chapter, but for now we may use the reflectance for normal incidence when the light is coming from the medium with $n_1$ to the medium $n_2$. This is given by\n",
    "\n",
    "$$\n",
    "R_1=\\left |\\frac{n_2-n_1}{n_1+n_2}\\right|^2\n",
    "$$\n",
    "\n",
    "Our anti-reflection condition for the intenisties is thus\n",
    "\n",
    "\\frac{n_2-n_1}{n_1+n_2}=\\frac{n_3-n_2}{n_2+n_3}\n",
    "\n",
    "from which you find by transformation\n",
    "\n",
    "$$\n",
    "n2=\\sqrt{n_1 n_3}\n",
    "$$\n",
    "\n",
    "The refractive index for a anti-reflection coating is thus given as the square root of the product of the neighboring materials refractive indices. Thus for example, if we use $n_1=1$ (air) and $n_3=1.5$ (glass), then we obtain $n_2=1.22$ for the appropriate coating refractive index. Unfortunately refractive indices rely on materials and are not completely arbitrary. Therefore, we have to choose one of the robust materials, that is closest to this value, which is in this case $MgF_2$ with $n_2=1.38$, which brings down reflection far enough. Better performance is obtained with multilayer structures.\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Photonic Crystals"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<figure>\n",
    "  <img src=\"img/butterfly_wings.png\" width=\"80%\" align=\"center\">  \n",
    "  <figcaption>**Fig.:** Butterfly wing reflection corresponding to a 3D Bragg reflection from a complex structured dielectric lattice.\n",
    "  </figcaption>\n",
    "</figure>"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.8.5"
  },
  "toc-autonumbering": false,
  "toc-showmarkdowntxt": false,
  "toc-showtags": false
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
